(function (React$1, ReactDOM, d3) {
  'use strict';

  var React$1__default = 'default' in React$1 ? React$1['default'] : React$1;
  ReactDOM = ReactDOM && Object.prototype.hasOwnProperty.call(ReactDOM, 'default') ? ReactDOM['default'] : ReactDOM;

  const csvUrl =
  "https://gist.githubusercontent.com/vanquisher2000/913aa59cad9f45ad32c76336137eb343/raw/242c9cd510ec21b00b7c24a59388be141c761aad/japanesePopulation.csv";
  const useData = () => {
    const [data, setData] = React$1.useState(null);

    React$1.useEffect(() => {
      const row = d => {
        d.total = +d.total;
        d.female = +d.female;
        d.male = +d.male;
        return d;
      };
      
      d3.csv(csvUrl, row).then(data => {
        setData(data);
      });
    }, []);
    console.log(data);
    
    return data;
  };

  const AxisBottom = ({ xScale, innerHeight, tickFormat }) =>
    xScale.ticks().map(tickValue => (
      React.createElement( 'g', { className: "tick", key: tickValue, transform: `translate(${xScale(tickValue)},0)` },
        React.createElement( 'line', { y2: innerHeight }),
        React.createElement( 'text', { style: { textAnchor: 'middle' }, dy: ".71em", y: innerHeight + 3 },
          tickFormat(tickValue)
        )
      )
    ));

  const AxisLeft = ({ yScale }) =>
    yScale.domain().map(tickValue => (
      React.createElement( 'g', { className: "tick" },
        React.createElement( 'text', {
          
          key: tickValue, style: { textAnchor: 'end' }, x: -3, dy: ".32em", y: yScale(tickValue) + yScale.bandwidth() / 2 },
          tickValue
        )
      )
    ));

  const Marks = ({
    data,
    xScale,
    yScale,
    xValue,
    yValue,
    tooltipFormat,
    fill,
  }) =>
    data.map((d) => (
      React.createElement( 'rect', {
        className: "mark", key: yValue(d), fill: fill, x: 0, y: yScale(yValue(d)), width: xScale(xValue(d)), height: yScale.bandwidth() },
        React.createElement( 'animate', {
          attributeName: "width", from: "0", to: xScale(xValue(d)), dur: "0.5s", fill: "freeze", repeatCount: "1", restart: "always" }),
        React.createElement( 'title', null, tooltipFormat(xValue(d)) )
      )
    ));

  const DoubleMarks = ({
    data,
    xScale1,
    xScale2,
    yScale,
    xValue1,
    xValue2,
    yValue,
    tooltipFormat,
    fill1,
    fill2,
    opacity1,
    opacity2
  }) =>
    data.map((d) => (
      React.createElement( React.Fragment, null,
      React.createElement( 'g', { opacity: opacity1 },
      React.createElement( 'rect', {
        className: "doublemark", key: yValue(d), fill: fill1, x: 0, y: yScale(yValue(d)), width: xScale1(xValue1(d)), height: yScale.bandwidth() / 2.3 },
        React.createElement( 'animate', {
          attributeName: "width", from: "0", to: xScale1(xValue1(d)), dur: "0.5s", fill: "freeze", restart: "always" }),
        React.createElement( 'title', null, tooltipFormat(xValue1(d)) )
      )
        ),
      React.createElement( 'g', { opacity: opacity2 },
      React.createElement( 'rect', {
        className: "doublemark", key: yValue(d), fill: fill2, x: 0, y: yScale(yValue(d)) + 4, width: xScale2(xValue2(d)), height: yScale.bandwidth() / 2.3 },
        React.createElement( 'animate', {
          attributeName: "width", from: "0", to: xScale2(xValue2(d)), dur: "0.5s", fill: "freeze", restart: "always" }),
        React.createElement( 'title', null, tooltipFormat(xValue2(d)) )
      )
        )
        )
    ));

  const Dropdown = ({
    options,
    id,
    onSelectedValueChange,
    selectedValue
  }) => (
    React$1__default.createElement( 'select', {
      name: "catagory", id: id, onChange: (event) =>
        onSelectedValueChange(event.target.value) },
      options.map(({ value, label }) => (
        React$1__default.createElement( 'option', { value: value, label: label, selected: value===selectedValue })
      ))
    )
  );

  const ColorLegend = ({
    tickSpacing = 20,
    tickSize = 7,
    onHover,
    hoveredValue
  }) => {
    const categories = ['male', 'female'];
    const colors = ['#8E6C8A', '#E68424'];
    console.log(hoveredValue);
    return categories.map((category, i) => {
      return (
        React.createElement( 'g', {
          className: "colorLegend", transform: `translate(0,${i * tickSpacing})`, onMouseEnter: () => {onHover(category);}, onMouseOut: () =>{ onHover(null);}, opacity: hoveredValue && category !== hoveredValue ? 0.2 : 1 },
          React.createElement( 'circle', { fill: colors[i], r: tickSize }),
          React.createElement( 'text', { x: 10, dy: ".32em" },
            category
          )
        )
      );
    });
  };

  const width = window.innerWidth;
  const height = window.innerHeight- 10;
  const margin = {
    top: 10,
    right: 30,
    bottom: 65,
    left: 150,
  };
  const xAxisLabelOffset = 50;

  const options = [
    { value: 'total', label: '男女:total' },
    { value: 'male', label: '男性:male' },
    { value: 'female', label: '女性:female' },
    { value: 'both', label: '男性＆女性' },
  ];

  //const initialValue = "total";

  const App = () => {
    const data = useData();
    const initialXAttribute = 'both';
    const [xAttribute, setXAttribute] = React$1.useState(
      initialXAttribute
    );
    const xValue = (d) => d[xAttribute];
    const yValue = (d) => d.pref;

    const [hoveredValue, setHoveredValue] = React$1.useState(null);
    console.log(hoveredValue);

    if (!data) {
      return React$1__default.createElement( 'pre', null, "Loading..." );
    }

    let rectColor = '';
    if (xAttribute === 'total') {
      rectColor = '#137B80';
    } else if (xAttribute === 'male') {
      rectColor = '#8E6C8A';
    } else if (xAttribute === 'female') {
      rectColor = '#E68424';
    }

    const innerHeight = height - margin.top - margin.bottom;
    const innerWidth = width - margin.left - margin.right;

    const colorLegendLabel = 'Gender';

    const siFormat = d3.format('.2s');
    const xAxisTickFormat = (tickValue) =>
      siFormat(tickValue).replace('G', 'B');

    const yScale = d3.scaleBand()
      .domain(data.map(yValue))
      .range([0, innerHeight])
      .paddingInner(0.15);

    const xScale = d3.scaleLinear()
      .domain([0, d3.max(data, xValue)])
      .range([0, innerWidth]);

    if (xAttribute != 'both') {
      return (
        React$1__default.createElement( React$1__default.Fragment, null,
          React$1__default.createElement( 'label', { for: "x-select" }, "Choose a catagory:"),
          React$1__default.createElement( Dropdown, {
            options: options, id: "x-select", selectedValue: xAttribute, onSelectedValueChange: setXAttribute }),
          React$1__default.createElement( 'svg', { width: width, height: height, charset: "UTF-8" },
            React$1__default.createElement( 'g', {
              transform: `translate(${margin.left},${margin.top})` },
              React$1__default.createElement( AxisBottom, {
                xScale: xScale, innerHeight: innerHeight, tickFormat: xAxisTickFormat }),
              React$1__default.createElement( AxisLeft, { yScale: yScale }),
              React$1__default.createElement( 'text', {
                className: "axis-label", x: innerWidth / 2, y: innerHeight + xAxisLabelOffset, textAnchor: "middle" }, "人口"),

              React$1__default.createElement( Marks, {
                data: data, xScale: xScale, yScale: yScale, xValue: xValue, yValue: yValue, tooltipFormat: xAxisTickFormat, fill: rectColor })
            )
          )
        )
      );
    } else {
      const xValue1 = (d) => d.male;

      const xValue2 = (d) => d.female;

      const xScale1 = d3.scaleLinear()
        .domain([0, d3.max(data, xValue1)])
        .range([0, innerWidth]);

      const xScale2 = d3.scaleLinear()
        .domain([0, d3.max(data, xValue2)])
        .range([0, innerWidth]);

      return (
        React$1__default.createElement( React$1__default.Fragment, null,
          React$1__default.createElement( 'label', { for: "x-select" }, "Choose a gender:"),
          React$1__default.createElement( Dropdown, {
            options: options, id: "x-select", selectedValue: xAttribute, onSelectedValueChange: setXAttribute }),

          React$1__default.createElement( 'svg', { width: width, height: height, charset: "UTF-8" },
            React$1__default.createElement( 'g', { transform: `translate(${20},${height - 120})` },
              React$1__default.createElement( 'text', {
                className: "colorLegend-label", x: 17, y: -15, textAnchor: "middle" },
                colorLegendLabel
              ),
              React$1__default.createElement( ColorLegend, {
                onHover: setHoveredValue, hoveredValue: hoveredValue })
            ),
            React$1__default.createElement( 'g', {
              transform: `translate(${margin.left},${margin.top})` },
              React$1__default.createElement( AxisBottom, {
                xScale: xScale1, innerHeight: innerHeight, tickFormat: xAxisTickFormat }),
              React$1__default.createElement( AxisLeft, { yScale: yScale }),
              React$1__default.createElement( 'text', {
                className: "axis-label", x: innerWidth / 2, y: innerHeight + xAxisLabelOffset, textAnchor: "middle" }, "人口"),
              React$1__default.createElement( DoubleMarks, {
                data: data, xScale1: xScale1, xScale2: xScale2, yScale: yScale, xValue1: xValue1, xValue2: xValue2, yValue: yValue, tooltipFormat: xAxisTickFormat, fill1: "#8E6C8A", fill2: "#E68424", opacity1: hoveredValue === 'female' ? 0.2 : 1, opacity2: hoveredValue === 'male' ? 0.2 : 1 })
            )
          )
        )
      );
    }
  };
  const rootElement = document.getElementById('root');
  ReactDOM.render(React$1__default.createElement( App, null ), rootElement);

}(React, ReactDOM, d3));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbInVzZURhdGEuanMiLCJBeGlzQm90dG9tLmpzIiwiQXhpc0xlZnQuanMiLCJNYXJrcy5qcyIsIkRvdWJsZU1hcmtzLmpzIiwiRHJvcGRvd24uanMiLCJDb2xvckxlZ2VuZC5qcyIsImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3N2ICxqc29uLHNvcnR9IGZyb20gJ2QzJztcblxuY29uc3QgY3N2VXJsID1cblwiaHR0cHM6Ly9naXN0LmdpdGh1YnVzZXJjb250ZW50LmNvbS92YW5xdWlzaGVyMjAwMC85MTNhYTU5Y2FkOWY0NWFkMzJjNzYzMzYxMzdlYjM0My9yYXcvMjQyYzljZDUxMGVjMjFiMDBiN2MyNGE1OTM4OGJlMTQxYzc2MWFhZC9qYXBhbmVzZVBvcHVsYXRpb24uY3N2XCI7XG5leHBvcnQgY29uc3QgdXNlRGF0YSA9ICgpID0+IHtcbiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCByb3cgPSBkID0+IHtcbiAgICAgIGQudG90YWwgPSArZC50b3RhbDtcbiAgICAgIGQuZmVtYWxlID0gK2QuZmVtYWxlO1xuICAgICAgZC5tYWxlID0gK2QubWFsZTtcbiAgICAgIHJldHVybiBkO1xuICAgIH07XG4gICAgXG4gICAgY3N2KGNzdlVybCwgcm93KS50aGVuKGRhdGEgPT4ge1xuICAgICAgc2V0RGF0YShkYXRhKTtcbiAgICB9KTtcbiAgfSwgW10pO1xuICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgXG4gIHJldHVybiBkYXRhO1xufTsiLCJleHBvcnQgY29uc3QgQXhpc0JvdHRvbSA9ICh7IHhTY2FsZSwgaW5uZXJIZWlnaHQsIHRpY2tGb3JtYXQgfSkgPT5cbiAgeFNjYWxlLnRpY2tzKCkubWFwKHRpY2tWYWx1ZSA9PiAoXG4gICAgPGcgY2xhc3NOYW1lPVwidGlja1wiIGtleT17dGlja1ZhbHVlfSB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHt4U2NhbGUodGlja1ZhbHVlKX0sMClgfT5cbiAgICAgIDxsaW5lIHkyPXtpbm5lckhlaWdodH0gLz5cbiAgICAgIDx0ZXh0IHN0eWxlPXt7IHRleHRBbmNob3I6ICdtaWRkbGUnIH19IGR5PVwiLjcxZW1cIiB5PXtpbm5lckhlaWdodCArIDN9PlxuICAgICAgICB7dGlja0Zvcm1hdCh0aWNrVmFsdWUpfVxuICAgICAgPC90ZXh0PlxuICAgIDwvZz5cbiAgKSk7IiwiZXhwb3J0IGNvbnN0IEF4aXNMZWZ0ID0gKHsgeVNjYWxlIH0pID0+XG4gIHlTY2FsZS5kb21haW4oKS5tYXAodGlja1ZhbHVlID0+IChcbiAgICA8ZyBjbGFzc05hbWU9XCJ0aWNrXCI+XG4gICAgICA8dGV4dFxuICAgICAgICBcbiAgICAgICAga2V5PXt0aWNrVmFsdWV9XG4gICAgICAgIHN0eWxlPXt7IHRleHRBbmNob3I6ICdlbmQnIH19XG4gICAgICAgIHg9ey0zfVxuICAgICAgICBkeT1cIi4zMmVtXCJcbiAgICAgICAgeT17eVNjYWxlKHRpY2tWYWx1ZSkgKyB5U2NhbGUuYmFuZHdpZHRoKCkgLyAyfVxuICAgICAgPlxuICAgICAgICB7dGlja1ZhbHVlfVxuICAgICAgPC90ZXh0PlxuICAgIDwvZz5cbiAgKSk7XG4iLCJleHBvcnQgY29uc3QgTWFya3MgPSAoe1xuICBkYXRhLFxuICB4U2NhbGUsXG4gIHlTY2FsZSxcbiAgeFZhbHVlLFxuICB5VmFsdWUsXG4gIHRvb2x0aXBGb3JtYXQsXG4gIGZpbGwsXG59KSA9PlxuICBkYXRhLm1hcCgoZCkgPT4gKFxuICAgIDxyZWN0XG4gICAgICBjbGFzc05hbWU9XCJtYXJrXCJcbiAgICAgIGtleT17eVZhbHVlKGQpfVxuICAgICAgZmlsbD17ZmlsbH1cbiAgICAgIHg9ezB9XG4gICAgICB5PXt5U2NhbGUoeVZhbHVlKGQpKX1cbiAgICAgIHdpZHRoPXt4U2NhbGUoeFZhbHVlKGQpKX1cbiAgICAgIGhlaWdodD17eVNjYWxlLmJhbmR3aWR0aCgpfVxuICAgID5cbiAgICAgIDxhbmltYXRlXG4gICAgICAgIGF0dHJpYnV0ZU5hbWU9XCJ3aWR0aFwiXG4gICAgICAgIGZyb209XCIwXCJcbiAgICAgICAgdG89e3hTY2FsZSh4VmFsdWUoZCkpfVxuICAgICAgICBkdXI9XCIwLjVzXCJcbiAgICAgICAgZmlsbD1cImZyZWV6ZVwiXG4gICAgICAgIHJlcGVhdENvdW50PVwiMVwiXG4gICAgICAgIHJlc3RhcnQ9XCJhbHdheXNcIlxuICAgICAgLz5cbiAgICAgIDx0aXRsZT57dG9vbHRpcEZvcm1hdCh4VmFsdWUoZCkpfTwvdGl0bGU+XG4gICAgPC9yZWN0PlxuICApKTtcbiIsImV4cG9ydCBjb25zdCBEb3VibGVNYXJrcyA9ICh7XG4gIGRhdGEsXG4gIHhTY2FsZTEsXG4gIHhTY2FsZTIsXG4gIHlTY2FsZSxcbiAgeFZhbHVlMSxcbiAgeFZhbHVlMixcbiAgeVZhbHVlLFxuICB0b29sdGlwRm9ybWF0LFxuICBmaWxsMSxcbiAgZmlsbDIsXG4gIG9wYWNpdHkxLFxuICBvcGFjaXR5MlxufSkgPT5cbiAgZGF0YS5tYXAoKGQpID0+IChcbiAgICA8PlxuICAgIDxnIG9wYWNpdHk9e29wYWNpdHkxfT5cbiAgICA8cmVjdFxuICAgICAgY2xhc3NOYW1lPVwiZG91YmxlbWFya1wiXG4gICAgICBrZXk9e3lWYWx1ZShkKX1cbiAgICAgIGZpbGw9e2ZpbGwxfVxuICAgICAgeD17MH1cbiAgICAgIHk9e3lTY2FsZSh5VmFsdWUoZCkpfVxuICAgICAgd2lkdGg9e3hTY2FsZTEoeFZhbHVlMShkKSl9XG4gICAgICBoZWlnaHQ9e3lTY2FsZS5iYW5kd2lkdGgoKSAvIDIuM31cbiAgICA+XG4gICAgICA8YW5pbWF0ZVxuICAgICAgICBhdHRyaWJ1dGVOYW1lPVwid2lkdGhcIlxuICAgICAgICBmcm9tPVwiMFwiXG4gICAgICAgIHRvPXt4U2NhbGUxKHhWYWx1ZTEoZCkpfVxuICAgICAgICBkdXI9XCIwLjVzXCJcbiAgICAgICAgZmlsbD1cImZyZWV6ZVwiXG4gICAgICBcbiAgICAgICAgcmVzdGFydD1cImFsd2F5c1wiXG4gICAgICAvPlxuICAgICAgPHRpdGxlPnt0b29sdGlwRm9ybWF0KHhWYWx1ZTEoZCkpfTwvdGl0bGU+XG4gICAgPC9yZWN0PlxuICAgICAgPC9nPlxuICAgIDxnIG9wYWNpdHkgPSB7b3BhY2l0eTJ9PlxuICAgIDxyZWN0XG4gICAgICBjbGFzc05hbWU9XCJkb3VibGVtYXJrXCJcbiAgICAgIGtleT17eVZhbHVlKGQpfVxuICAgICAgZmlsbD17ZmlsbDJ9XG4gICAgICB4PXswfVxuICAgICAgeT17eVNjYWxlKHlWYWx1ZShkKSkgKyA0fVxuICAgICAgd2lkdGg9e3hTY2FsZTIoeFZhbHVlMihkKSl9XG4gICAgICBoZWlnaHQ9e3lTY2FsZS5iYW5kd2lkdGgoKSAvIDIuM31cbiAgICA+XG4gICAgICA8YW5pbWF0ZVxuICAgICAgICBhdHRyaWJ1dGVOYW1lPVwid2lkdGhcIlxuICAgICAgICBmcm9tPVwiMFwiXG4gICAgICAgIHRvPXt4U2NhbGUyKHhWYWx1ZTIoZCkpfVxuICAgICAgICBkdXI9XCIwLjVzXCJcbiAgICAgICAgZmlsbD1cImZyZWV6ZVwiXG4gICAgICBcbiAgICAgICAgcmVzdGFydD1cImFsd2F5c1wiXG4gICAgICAvPlxuICAgICAgPHRpdGxlPnt0b29sdGlwRm9ybWF0KHhWYWx1ZTIoZCkpfTwvdGl0bGU+XG4gICAgPC9yZWN0PlxuICAgICAgPC9nPlxuICAgICAgPC8+XG4gICkpO1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuXG5cbmV4cG9ydCBjb25zdCBEcm9wZG93biA9ICh7XG4gIG9wdGlvbnMsXG4gIGlkLFxuICBvblNlbGVjdGVkVmFsdWVDaGFuZ2UsXG4gIHNlbGVjdGVkVmFsdWVcbn0pID0+IChcbiAgPHNlbGVjdFxuICAgIG5hbWU9XCJjYXRhZ29yeVwiXG4gICAgaWQ9e2lkfVxuICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+XG4gICAgICBvblNlbGVjdGVkVmFsdWVDaGFuZ2UoZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgIH1cbiAgPlxuICAgIHtvcHRpb25zLm1hcCgoeyB2YWx1ZSwgbGFiZWwgfSkgPT4gKFxuICAgICAgPG9wdGlvbiB2YWx1ZT17dmFsdWV9IGxhYmVsPXtsYWJlbH0gc2VsZWN0ZWQ9e3ZhbHVlPT09c2VsZWN0ZWRWYWx1ZX0+PC9vcHRpb24+XG4gICAgKSl9XG4gIDwvc2VsZWN0PlxuKTsiLCJleHBvcnQgY29uc3QgQ29sb3JMZWdlbmQgPSAoe1xuICB0aWNrU3BhY2luZyA9IDIwLFxuICB0aWNrU2l6ZSA9IDcsXG4gIG9uSG92ZXIsXG4gIGhvdmVyZWRWYWx1ZVxufSkgPT4ge1xuICBjb25zdCBjYXRlZ29yaWVzID0gWydtYWxlJywgJ2ZlbWFsZSddO1xuICBjb25zdCBjb2xvcnMgPSBbJyM4RTZDOEEnLCAnI0U2ODQyNCddO1xuICBjb25zb2xlLmxvZyhob3ZlcmVkVmFsdWUpO1xuICByZXR1cm4gY2F0ZWdvcmllcy5tYXAoKGNhdGVnb3J5LCBpKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxnXG4gICAgICAgIGNsYXNzTmFtZT1cImNvbG9yTGVnZW5kXCJcbiAgICAgICAgdHJhbnNmb3JtPXtgdHJhbnNsYXRlKDAsJHtpICogdGlja1NwYWNpbmd9KWB9XG4gICAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4ge29uSG92ZXIoY2F0ZWdvcnkpO319XG4gICAgICAgIG9uTW91c2VPdXQ9eygpID0+eyBvbkhvdmVyKG51bGwpO319XG4gICAgICAgIG9wYWNpdHkgPSB7aG92ZXJlZFZhbHVlICYmIGNhdGVnb3J5ICE9PSBob3ZlcmVkVmFsdWUgPyAwLjIgOiAxfVxuICAgICAgPlxuICAgICAgICA8Y2lyY2xlIGZpbGw9e2NvbG9yc1tpXX0gcj17dGlja1NpemV9IC8+XG4gICAgICAgIDx0ZXh0IHg9ezEwfSBkeT1cIi4zMmVtXCI+XG4gICAgICAgICAge2NhdGVnb3J5fVxuICAgICAgICA8L3RleHQ+XG4gICAgICA8L2c+XG4gICAgKTtcbiAgfSk7XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7XG4gIHVzZVN0YXRlLFxuICB1c2VDYWxsYmFjayxcbiAgdXNlRWZmZWN0LFxufSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7XG4gIGNzdixcbiAgc2NhbGVCYW5kLFxuICBzY2FsZUxpbmVhcixcbiAgbWF4LFxuICBmb3JtYXQsXG59IGZyb20gJ2QzJztcbmltcG9ydCB7IHVzZURhdGEgfSBmcm9tICcuL3VzZURhdGEnO1xuaW1wb3J0IHsgQXhpc0JvdHRvbSB9IGZyb20gJy4vQXhpc0JvdHRvbSc7XG5pbXBvcnQgeyBBeGlzTGVmdCB9IGZyb20gJy4vQXhpc0xlZnQnO1xuaW1wb3J0IHsgTWFya3MgfSBmcm9tICcuL01hcmtzJztcbmltcG9ydCB7IERvdWJsZU1hcmtzIH0gZnJvbSAnLi9Eb3VibGVNYXJrcyc7XG5pbXBvcnQgeyBEcm9wZG93biB9IGZyb20gJy4vRHJvcGRvd24nO1xuaW1wb3J0IHsgQ29sb3JMZWdlbmQgfSBmcm9tICcuL0NvbG9yTGVnZW5kJztcblxuY29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbmNvbnN0IGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodC0gMTA7XG5jb25zdCBtYXJnaW4gPSB7XG4gIHRvcDogMTAsXG4gIHJpZ2h0OiAzMCxcbiAgYm90dG9tOiA2NSxcbiAgbGVmdDogMTUwLFxufTtcbmNvbnN0IHhBeGlzTGFiZWxPZmZzZXQgPSA1MDtcblxuY29uc3Qgb3B0aW9ucyA9IFtcbiAgeyB2YWx1ZTogJ3RvdGFsJywgbGFiZWw6ICfDp8KUwrfDpcKlwrM6dG90YWwnIH0sXG4gIHsgdmFsdWU6ICdtYWxlJywgbGFiZWw6ICfDp8KUwrfDpsKAwqc6bWFsZScgfSxcbiAgeyB2YWx1ZTogJ2ZlbWFsZScsIGxhYmVsOiAnw6XCpcKzw6bCgMKnOmZlbWFsZScgfSxcbiAgeyB2YWx1ZTogJ2JvdGgnLCBsYWJlbDogJ8OnwpTCt8OmwoDCp8OvwrzChsOlwqXCs8OmwoDCpycgfSxcbl07XG5cbi8vY29uc3QgaW5pdGlhbFZhbHVlID0gXCJ0b3RhbFwiO1xuXG5jb25zdCBBcHAgPSAoKSA9PiB7XG4gIGNvbnN0IGRhdGEgPSB1c2VEYXRhKCk7XG4gIGNvbnN0IGluaXRpYWxYQXR0cmlidXRlID0gJ2JvdGgnO1xuICBjb25zdCBbeEF0dHJpYnV0ZSwgc2V0WEF0dHJpYnV0ZV0gPSB1c2VTdGF0ZShcbiAgICBpbml0aWFsWEF0dHJpYnV0ZVxuICApO1xuICBjb25zdCB4VmFsdWUgPSAoZCkgPT4gZFt4QXR0cmlidXRlXTtcbiAgY29uc3QgeVZhbHVlID0gKGQpID0+IGQucHJlZjtcblxuICBjb25zdCBbaG92ZXJlZFZhbHVlLCBzZXRIb3ZlcmVkVmFsdWVdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnNvbGUubG9nKGhvdmVyZWRWYWx1ZSk7XG5cbiAgaWYgKCFkYXRhKSB7XG4gICAgcmV0dXJuIDxwcmU+TG9hZGluZy4uLjwvcHJlPjtcbiAgfVxuXG4gIGxldCByZWN0Q29sb3IgPSAnJztcbiAgaWYgKHhBdHRyaWJ1dGUgPT09ICd0b3RhbCcpIHtcbiAgICByZWN0Q29sb3IgPSAnIzEzN0I4MCc7XG4gIH0gZWxzZSBpZiAoeEF0dHJpYnV0ZSA9PT0gJ21hbGUnKSB7XG4gICAgcmVjdENvbG9yID0gJyM4RTZDOEEnO1xuICB9IGVsc2UgaWYgKHhBdHRyaWJ1dGUgPT09ICdmZW1hbGUnKSB7XG4gICAgcmVjdENvbG9yID0gJyNFNjg0MjQnO1xuICB9XG5cbiAgY29uc3QgaW5uZXJIZWlnaHQgPSBoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcbiAgY29uc3QgaW5uZXJXaWR0aCA9IHdpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG5cbiAgY29uc3QgY29sb3JMZWdlbmRMYWJlbCA9ICdHZW5kZXInO1xuXG4gIGNvbnN0IHNpRm9ybWF0ID0gZm9ybWF0KCcuMnMnKTtcbiAgY29uc3QgeEF4aXNUaWNrRm9ybWF0ID0gKHRpY2tWYWx1ZSkgPT5cbiAgICBzaUZvcm1hdCh0aWNrVmFsdWUpLnJlcGxhY2UoJ0cnLCAnQicpO1xuXG4gIGNvbnN0IHlTY2FsZSA9IHNjYWxlQmFuZCgpXG4gICAgLmRvbWFpbihkYXRhLm1hcCh5VmFsdWUpKVxuICAgIC5yYW5nZShbMCwgaW5uZXJIZWlnaHRdKVxuICAgIC5wYWRkaW5nSW5uZXIoMC4xNSk7XG5cbiAgY29uc3QgeFNjYWxlID0gc2NhbGVMaW5lYXIoKVxuICAgIC5kb21haW4oWzAsIG1heChkYXRhLCB4VmFsdWUpXSlcbiAgICAucmFuZ2UoWzAsIGlubmVyV2lkdGhdKTtcblxuICBpZiAoeEF0dHJpYnV0ZSAhPSAnYm90aCcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPGxhYmVsIGZvcj1cIngtc2VsZWN0XCI+Q2hvb3NlIGEgY2F0YWdvcnk6PC9sYWJlbD5cbiAgICAgICAgPERyb3Bkb3duXG4gICAgICAgICAgb3B0aW9ucz17b3B0aW9uc31cbiAgICAgICAgICBpZD1cIngtc2VsZWN0XCJcbiAgICAgICAgICBzZWxlY3RlZFZhbHVlPXt4QXR0cmlidXRlfVxuICAgICAgICAgIG9uU2VsZWN0ZWRWYWx1ZUNoYW5nZT17c2V0WEF0dHJpYnV0ZX1cbiAgICAgICAgLz5cbiAgICAgICAgPHN2ZyB3aWR0aD17d2lkdGh9IGhlaWdodD17aGVpZ2h0fSBjaGFyc2V0PVwiVVRGLThcIj5cbiAgICAgICAgICA8Z1xuICAgICAgICAgICAgdHJhbnNmb3JtPXtgdHJhbnNsYXRlKCR7bWFyZ2luLmxlZnR9LCR7bWFyZ2luLnRvcH0pYH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8QXhpc0JvdHRvbVxuICAgICAgICAgICAgICB4U2NhbGU9e3hTY2FsZX1cbiAgICAgICAgICAgICAgaW5uZXJIZWlnaHQ9e2lubmVySGVpZ2h0fVxuICAgICAgICAgICAgICB0aWNrRm9ybWF0PXt4QXhpc1RpY2tGb3JtYXR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPEF4aXNMZWZ0IHlTY2FsZT17eVNjYWxlfSAvPlxuICAgICAgICAgICAgPHRleHRcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYXhpcy1sYWJlbFwiXG4gICAgICAgICAgICAgIHg9e2lubmVyV2lkdGggLyAyfVxuICAgICAgICAgICAgICB5PXtpbm5lckhlaWdodCArIHhBeGlzTGFiZWxPZmZzZXR9XG4gICAgICAgICAgICAgIHRleHRBbmNob3I9XCJtaWRkbGVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICDDpMK6wrrDpcKPwqNcbiAgICAgICAgICAgIDwvdGV4dD5cblxuICAgICAgICAgICAgPE1hcmtzXG4gICAgICAgICAgICAgIGRhdGE9e2RhdGF9XG4gICAgICAgICAgICAgIHhTY2FsZT17eFNjYWxlfVxuICAgICAgICAgICAgICB5U2NhbGU9e3lTY2FsZX1cbiAgICAgICAgICAgICAgeFZhbHVlPXt4VmFsdWV9XG4gICAgICAgICAgICAgIHlWYWx1ZT17eVZhbHVlfVxuICAgICAgICAgICAgICB0b29sdGlwRm9ybWF0PXt4QXhpc1RpY2tGb3JtYXR9XG4gICAgICAgICAgICAgIGZpbGw9e3JlY3RDb2xvcn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9nPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgeFZhbHVlMSA9IChkKSA9PiBkLm1hbGU7XG5cbiAgICBjb25zdCB4VmFsdWUyID0gKGQpID0+IGQuZmVtYWxlO1xuXG4gICAgY29uc3QgeFNjYWxlMSA9IHNjYWxlTGluZWFyKClcbiAgICAgIC5kb21haW4oWzAsIG1heChkYXRhLCB4VmFsdWUxKV0pXG4gICAgICAucmFuZ2UoWzAsIGlubmVyV2lkdGhdKTtcblxuICAgIGNvbnN0IHhTY2FsZTIgPSBzY2FsZUxpbmVhcigpXG4gICAgICAuZG9tYWluKFswLCBtYXgoZGF0YSwgeFZhbHVlMildKVxuICAgICAgLnJhbmdlKFswLCBpbm5lcldpZHRoXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPGxhYmVsIGZvcj1cIngtc2VsZWN0XCI+Q2hvb3NlIGEgZ2VuZGVyOjwvbGFiZWw+XG4gICAgICAgIDxEcm9wZG93blxuICAgICAgICAgIG9wdGlvbnM9e29wdGlvbnN9XG4gICAgICAgICAgaWQ9XCJ4LXNlbGVjdFwiXG4gICAgICAgICAgc2VsZWN0ZWRWYWx1ZT17eEF0dHJpYnV0ZX1cbiAgICAgICAgICBvblNlbGVjdGVkVmFsdWVDaGFuZ2U9e3NldFhBdHRyaWJ1dGV9XG4gICAgICAgIC8+XG5cbiAgICAgICAgPHN2ZyB3aWR0aD17d2lkdGh9IGhlaWdodD17aGVpZ2h0fSBjaGFyc2V0PVwiVVRGLThcIj5cbiAgICAgICAgICA8ZyB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHsyMH0sJHtoZWlnaHQgLSAxMjB9KWB9PlxuICAgICAgICAgICAgPHRleHRcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY29sb3JMZWdlbmQtbGFiZWxcIlxuICAgICAgICAgICAgICB4PXsxN31cbiAgICAgICAgICAgICAgeT17LTE1fVxuICAgICAgICAgICAgICB0ZXh0QW5jaG9yPVwibWlkZGxlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2NvbG9yTGVnZW5kTGFiZWx9XG4gICAgICAgICAgICA8L3RleHQ+XG4gICAgICAgICAgICA8Q29sb3JMZWdlbmRcbiAgICAgICAgICAgICAgb25Ib3Zlcj17c2V0SG92ZXJlZFZhbHVlfVxuICAgICAgICAgICAgICBob3ZlcmVkVmFsdWU9e2hvdmVyZWRWYWx1ZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9nPlxuICAgICAgICAgIDxnXG4gICAgICAgICAgICB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHttYXJnaW4ubGVmdH0sJHttYXJnaW4udG9wfSlgfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxBeGlzQm90dG9tXG4gICAgICAgICAgICAgIHhTY2FsZT17eFNjYWxlMX1cbiAgICAgICAgICAgICAgaW5uZXJIZWlnaHQ9e2lubmVySGVpZ2h0fVxuICAgICAgICAgICAgICB0aWNrRm9ybWF0PXt4QXhpc1RpY2tGb3JtYXR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPEF4aXNMZWZ0IHlTY2FsZT17eVNjYWxlfSAvPlxuICAgICAgICAgICAgPHRleHRcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYXhpcy1sYWJlbFwiXG4gICAgICAgICAgICAgIHg9e2lubmVyV2lkdGggLyAyfVxuICAgICAgICAgICAgICB5PXtpbm5lckhlaWdodCArIHhBeGlzTGFiZWxPZmZzZXR9XG4gICAgICAgICAgICAgIHRleHRBbmNob3I9XCJtaWRkbGVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICDDpMK6wrrDpcKPwqNcbiAgICAgICAgICAgIDwvdGV4dD5cbiAgICAgICAgICAgIDxEb3VibGVNYXJrc1xuICAgICAgICAgICAgICBkYXRhPXtkYXRhfVxuICAgICAgICAgICAgICB4U2NhbGUxPXt4U2NhbGUxfVxuICAgICAgICAgICAgICB4U2NhbGUyPXt4U2NhbGUyfVxuICAgICAgICAgICAgICB5U2NhbGU9e3lTY2FsZX1cbiAgICAgICAgICAgICAgeFZhbHVlMT17eFZhbHVlMX1cbiAgICAgICAgICAgICAgeFZhbHVlMj17eFZhbHVlMn1cbiAgICAgICAgICAgICAgeVZhbHVlPXt5VmFsdWV9XG4gICAgICAgICAgICAgIHRvb2x0aXBGb3JtYXQ9e3hBeGlzVGlja0Zvcm1hdH1cbiAgICAgICAgICAgICAgZmlsbDE9XCIjOEU2QzhBXCJcbiAgICAgICAgICAgICAgZmlsbDI9XCIjRTY4NDI0XCJcbiAgICAgICAgICAgICAgb3BhY2l0eTE9e2hvdmVyZWRWYWx1ZSA9PT0gJ2ZlbWFsZScgPyAwLjIgOiAxfVxuICAgICAgICAgICAgICBvcGFjaXR5Mj17aG92ZXJlZFZhbHVlID09PSAnbWFsZScgPyAwLjIgOiAxfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2c+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC8+XG4gICAgKTtcbiAgfVxufTtcbmNvbnN0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKTtcblJlYWN0RE9NLnJlbmRlcig8QXBwIC8+LCByb290RWxlbWVudCk7XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJjc3YiLCJSZWFjdCIsImZvcm1hdCIsInNjYWxlQmFuZCIsInNjYWxlTGluZWFyIiwibWF4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7RUFHQSxNQUFNLE1BQU07RUFDWix3SkFBd0osQ0FBQztFQUNsSixNQUFNLE9BQU8sR0FBRyxNQUFNO0VBQzdCLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsR0FBR0EsZ0JBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN6QztFQUNBLEVBQUVDLGlCQUFTLENBQUMsTUFBTTtFQUNsQixJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsSUFBSTtFQUNyQixNQUFNLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO0VBQ3pCLE1BQU0sQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7RUFDM0IsTUFBTSxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztFQUN2QixNQUFNLE9BQU8sQ0FBQyxDQUFDO0VBQ2YsS0FBSyxDQUFDO0VBQ047RUFDQSxJQUFJQyxNQUFHLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUk7RUFDbEMsTUFBTSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7RUFDcEIsS0FBSyxDQUFDLENBQUM7RUFDUCxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUM7RUFDVCxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7RUFDcEI7RUFDQSxFQUFFLE9B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